p8105\_hw2\_dtw2127
================
Dee Wang

## Problem 1

We will read in and clean the “Mr. Trash Wheel” sheet.

``` r
library(readxl)
library(tidyverse)
```

    ## -- Attaching packages --------------------------------------- tidyverse 1.3.1 --

    ## v ggplot2 3.3.5     v purrr   0.3.4
    ## v tibble  3.1.4     v dplyr   1.0.7
    ## v tidyr   1.1.3     v stringr 1.4.0
    ## v readr   2.0.1     v forcats 0.5.1

    ## -- Conflicts ------------------------------------------ tidyverse_conflicts() --
    ## x dplyr::filter() masks stats::filter()
    ## x dplyr::lag()    masks stats::lag()

``` r
library(lubridate)
```

    ## 
    ## Attaching package: 'lubridate'

    ## The following objects are masked from 'package:base':
    ## 
    ##     date, intersect, setdiff, union

``` r
mrtrash_data = read_excel("./data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx", sheet = "Mr. Trash Wheel", skip = 1) %>% #specify sheet to read in and skip row with graphic 
  select("Dumpster":"Homes Powered*") %>% #omit non-data entries
  drop_na() %>% # omit rows without dumpster-specific data (drop rows with missing data)
  mutate(`Sports Balls` = round(`Sports Balls`)) #round sports balls number to nearest integer
```

    ## New names:
    ## * `` -> ...15
    ## * `` -> ...16
    ## * `` -> ...17

Next, we’ll read and clean precipitation data for 2018 and 2019.

``` r
precip_2018 =
  read_excel("./data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx", sheet = "2018 Precipitation", skip = 1) %>% 
  drop_na() %>% #drop rows with missing data 
  mutate(Year = 2018) #add year variable 
 
precip_2019 =
  read_excel("./data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx", sheet = "2019 Precipitation", skip = 1) %>% 
  drop_na() %>% #drop rows with missing data 
  mutate(Year = 2019) #add year variable 
```

Next we will combine the precipitation datasets and convert month to a
character variable.

``` r
precip_combined = bind_rows(precip_2018, precip_2019) %>% #combine precipitation datasets
  mutate(Month = month.name[Month]) #convert month to character variable  
```

There are 12 complete observations in the 2018 Precipitation Dataset,
and 12 complete observations in the 2019 Precipitation Dataset. The
combined dataset has 24 observations.

The 2018 Precipitation Dataset has monthly precipitation values (in) for
January through December, whereas the 2019 Precipitation Dataset only
has monthly precipitation values (in) for January through June. Average
monthly rain fall for 2018 was 5.86, and 2.83 for the months of January
through June in 2019. The total precipitation in 2018 was 70.33.

The median number of sports balls in a dumpster in 2019 was 51.17

## Problem 2

First, we will import and clean the data in pols-month.csv.

``` r
pols_month = read_csv("./data/pols-month.csv") %>% 
  separate(mon, into = c("Year", "Month", "Day"), sep = "-") %>%
  mutate(Month = as.numeric(Month)) %>% 
  mutate(Month = month.name[Month]) %>% 
  pivot_longer(c(prez_gop,prez_dem), names_prefix = "prez_", names_to = "President") %>% 
  filter(value > 0) %>%
  select(-Day) #remove day variable 
```

    ## Rows: 822 Columns: 9

    ## -- Column specification --------------------------------------------------------
    ## Delimiter: ","
    ## dbl  (8): prez_gop, gov_gop, sen_gop, rep_gop, prez_dem, gov_dem, sen_dem, r...
    ## date (1): mon

    ## 
    ## i Use `spec()` to retrieve the full column specification for this data.
    ## i Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
#note -- value of 2 indicates Ford assuming presidency.
```

``` r
snp <- read_csv("./data/snp.csv") %>% 
  mutate(date = lubridate::mdy(date)) %>% 
  separate(date, into = c("Year", "Month", "Day")) %>% 
  mutate(Month = as.numeric(Month)) %>%
  mutate(Month = month.name[Month]) %>%
  arrange(Year, Month) 
```

    ## Rows: 787 Columns: 2

    ## -- Column specification --------------------------------------------------------
    ## Delimiter: ","
    ## chr (1): date
    ## dbl (1): close

    ## 
    ## i Use `spec()` to retrieve the full column specification for this data.
    ## i Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
## need to figure out how to fix the dates (>= 2500)
```

Next, we will tidy the unemployment data.

``` r
unemployment = read_csv("./data/unemployment.csv") %>% 
  pivot_longer(
    Jan:Dec,
    names_to = "Month",
    values_to = "Unemployment (%)" 
  ) %>% 
  mutate(Month = match(Month, month.abb)) %>% 
  mutate(Month = month.name[Month])
```

    ## Rows: 68 Columns: 13

    ## -- Column specification --------------------------------------------------------
    ## Delimiter: ","
    ## dbl (13): Year, Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec

    ## 
    ## i Use `spec()` to retrieve the full column specification for this data.
    ## i Specify the column types or set `show_col_types = FALSE` to quiet this message.
